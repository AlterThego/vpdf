{"version":3,"file":"_V6eeIlB.js","sources":["../src/components/focusHelper/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { computed, nextTick, onBeforeUnmount, onMounted, ref } from \"vue\";\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    disabled?: boolean;\r\n  }>(),\r\n  {\r\n    disabled: false,\r\n  }\r\n);\r\n\r\nconst focusHelper = ref<HTMLElement>();\r\n\r\nconst active = ref(false);\r\nconst events = computed(() => ({\r\n  active: [\"focus\", \"mouseenter\"],\r\n  inactive: [\"blur\", \"mouseleave\"],\r\n}));\r\n\r\nconst onActive = () => {\r\n  if (!props.disabled) {\r\n    active.value = true;\r\n  }\r\n};\r\n\r\nconst onInactive = () => {\r\n  active.value = false;\r\n};\r\n\r\nonMounted(() => {\r\n  nextTick(() => {\r\n    events.value.active.forEach((evtName) => {\r\n      focusHelper.value?.parentElement?.addEventListener(evtName, onActive);\r\n    });\r\n\r\n    events.value.inactive.forEach((evtName) => {\r\n      focusHelper.value?.parentElement?.addEventListener(evtName, onInactive);\r\n    });\r\n  });\r\n});\r\n\r\nonBeforeUnmount(() => {\r\n  events.value.active.forEach((evtName) => {\r\n    focusHelper.value?.parentElement?.removeEventListener(evtName, onActive);\r\n  });\r\n\r\n  events.value.inactive.forEach((evtName) => {\r\n    focusHelper.value?.parentElement?.removeEventListener(evtName, onInactive);\r\n  });\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    ref=\"focusHelper\"\r\n    class=\"pointer-events-none absolute inset-0 transition-opacity\"\r\n    :class=\"{\r\n      'opacity-0': !active,\r\n      'opacity-20': active,\r\n    }\"\r\n  />\r\n</template>\r\n"],"names":["props","__props","focusHelper","ref","active","events","computed","onActive","onInactive","onMounted","nextTick","evtName","_b","_a","onBeforeUnmount"],"mappings":";;;;;;;AAGA,UAAMA,IAAQC,GASRC,IAAcC,EAAiB,GAE/BC,IAASD,EAAI,EAAK,GAClBE,IAASC,EAAS,OAAO;AAAA,MAC7B,QAAQ,CAAC,SAAS,YAAY;AAAA,MAC9B,UAAU,CAAC,QAAQ,YAAY;AAAA,IAAA,EAC/B,GAEIC,IAAW,MAAM;AACjB,MAACP,EAAM,aACTI,EAAO,QAAQ;AAAA,IAEnB,GAEMI,IAAa,MAAM;AACvB,MAAAJ,EAAO,QAAQ;AAAA,IACjB;AAEA,WAAAK,EAAU,MAAM;AACd,MAAAC,EAAS,MAAM;AACb,QAAAL,EAAO,MAAM,OAAO,QAAQ,CAACM,MAAY;;AACvC,WAAAC,KAAAC,IAAAX,EAAY,UAAZ,gBAAAW,EAAmB,kBAAnB,QAAAD,EAAkC,iBAAiBD,GAASJ;AAAA,QAAQ,CACrE,GAEDF,EAAO,MAAM,SAAS,QAAQ,CAACM,MAAY;;AACzC,WAAAC,KAAAC,IAAAX,EAAY,UAAZ,gBAAAW,EAAmB,kBAAnB,QAAAD,EAAkC,iBAAiBD,GAASH;AAAA,QAAU,CACvE;AAAA,MAAA,CACF;AAAA,IAAA,CACF,GAEDM,EAAgB,MAAM;AACpB,MAAAT,EAAO,MAAM,OAAO,QAAQ,CAACM,MAAY;;AACvC,SAAAC,KAAAC,IAAAX,EAAY,UAAZ,gBAAAW,EAAmB,kBAAnB,QAAAD,EAAkC,oBAAoBD,GAASJ;AAAA,MAAQ,CACxE,GAEDF,EAAO,MAAM,SAAS,QAAQ,CAACM,MAAY;;AACzC,SAAAC,KAAAC,IAAAX,EAAY,UAAZ,gBAAAW,EAAmB,kBAAnB,QAAAD,EAAkC,oBAAoBD,GAASH;AAAA,MAAU,CAC1E;AAAA,IAAA,CACF;;;;;;;;;;"}