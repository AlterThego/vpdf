{"version":3,"file":"CWOcVI7O.js","sources":["../src/components/sidebar/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { ref, computed, defineAsyncComponent } from \"vue\";\r\nimport { pdfattachment, pdfOutlinePairs, Point } from \"../../types/pdf\";\r\nimport type { PDFDocumentLoadingTask } from \"pdfjs-dist/types/src/display/api\";\r\n\r\nconst Button = defineAsyncComponent(() => import(\"../button/index.vue\"));\r\nconst Thumbnails = defineAsyncComponent(() => import(\"./thumbnails/index.vue\"));\r\nconst Bookmarks = defineAsyncComponent(() => import(\"./bookmarks/index.vue\"));\r\nconst Attachments = defineAsyncComponent(\r\n  () => import(\"./attachments/index.vue\")\r\n);\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    modelValue: boolean;\r\n    options: Record<string, Object>;\r\n    outline?: Array<pdfOutlinePairs>;\r\n    attachments?: pdfattachment | null;\r\n    pdf: PDFDocumentLoadingTask | undefined;\r\n    page: number;\r\n    rotation: number;\r\n  }>(),\r\n  {\r\n    modelValue: false,\r\n    options: () => ({\r\n      thumbnails: true,\r\n      bookmarks: true,\r\n      attachments: true,\r\n    }),\r\n    page: 1,\r\n    rotation: 0,\r\n  }\r\n);\r\nconst emit = defineEmits([\"update:modelValue\", \"changePage\"]);\r\n\r\ntype itemType = {\r\n  label: string;\r\n  icon: string;\r\n  component: any;\r\n  bind: Object;\r\n  events: Object;\r\n};\r\ntype IPage = {\r\n  page: number;\r\n  offset: Point | null;\r\n};\r\n\r\nconst items = computed<Record<string, itemType>>(() => {\r\n  let result = {};\r\n  if (!!props.options.thumbnails) {\r\n    Object.assign(result, {\r\n      thumbnails: {\r\n        label: \"Page Thumbnails\",\r\n        icon: \"file_copy\",\r\n      },\r\n    });\r\n  }\r\n\r\n  if (!!props.options.bookmarks) {\r\n    Object.assign(result, {\r\n      bookmarks: {\r\n        label: \"Bookmarks\",\r\n        icon: \"bookmark_border\",\r\n      },\r\n    });\r\n  }\r\n\r\n  if (!!props.options.attachments) {\r\n    Object.assign(result, {\r\n      attachments: {\r\n        label: \"Attachments\",\r\n        icon: \"attachment\",\r\n      },\r\n    });\r\n  }\r\n  return result;\r\n});\r\n\r\nconst activeItemName = ref<string>(\"bookmarks\");\r\n\r\nconst changePage = (e: IPage) => {\r\n  if (!!e) {\r\n    emit(\"changePage\", { page: e.page, offset: e.offset });\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"pointer-events-none absolute inset-0 z-10\">\r\n    <div class=\"relative h-full w-full\">\r\n      <div\r\n        v-if=\"props.modelValue\"\r\n        class=\"pointer-events-auto absolute inset-0 block bg-foreground/15 md:hidden\"\r\n        @click=\"emit('update:modelValue', false)\"\r\n      />\r\n      <div\r\n        class=\"pointer-events-auto relative flex h-full min-w-0 flex-auto flex-col overflow-hidden bg-background/75 transition-all\"\r\n        :class=\"{\r\n          'w-0': !props.modelValue,\r\n          'w-64': props.modelValue,\r\n        }\"\r\n      >\r\n        <div\r\n          v-if=\"modelValue\"\r\n          class=\"flex items-center gap-2 border-b border-r border-accent/25\"\r\n        >\r\n          <div class=\"flex flex-auto items-center gap-0.5 px-2 py-1\">\r\n            <template v-for=\"(item, index) in items\" :key=\"item.label\">\r\n              <Button\r\n                :icon=\"item.icon\"\r\n                class=\"rounded-lg px-1 py-0.5 text-2xl\"\r\n                :class=\"{\r\n                  'bg-secondary/30': activeItemName === index,\r\n                  'hover:text-primary': activeItemName !== index,\r\n                }\"\r\n                @click=\"activeItemName = index\"\r\n              />\r\n            </template>\r\n          </div>\r\n          <div class=\"flex items-center gap-0.5 px-2 py-1\">\r\n            <Button\r\n              icon=\"close\"\r\n              class=\"rounded-full p-1\"\r\n              @click=\"emit('update:modelValue', false)\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-if=\"modelValue\"\r\n          class=\"flex-auto overflow-auto border-r border-gray-700/25\"\r\n        >\r\n          <Thumbnails\r\n            v-if=\"\r\n              !!options.thumbnails && activeItemName == 'thumbnails' && !!pdf\r\n            \"\r\n            :pdf=\"pdf\"\r\n            :page=\"page\"\r\n            :rotation=\"rotation\"\r\n            @changePage=\"changePage\"\r\n          />\r\n          <Bookmarks\r\n            v-if=\"activeItemName == 'bookmarks'\"\r\n            :outline=\"outline\"\r\n            @changePage=\"changePage\"\r\n          />\r\n          <Attachments\r\n            v-if=\"activeItemName == 'attachments'\"\r\n            :attachments=\"attachments\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n"],"names":["Button","defineAsyncComponent","Thumbnails","Bookmarks","Attachments","n","props","__props","emit","__emit","items","computed","result","activeItemName","ref","changePage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,IAASC,EAAqB,MAAM,OAAO,eAAqB,CAAC,GACjEC,IAAaD,EAAqB,MAAM,OAAO,eAAwB,CAAC,GACxEE,IAAYF,EAAqB,MAAM,OAAO,eAAuB,CAAC,GACtEG,IAAcH;AAAA,MAClB,MAAM,OAAO,eAAyB,EAAA,KAAA,CAAAI,MAAAA,EAAA,CAAA;AAAA,IACxC,GACMC,IAAQC,GAqBRC,IAAOC,GAcPC,IAAQC,EAAmC,MAAM;AACrD,UAAIC,IAAS,CAAC;AACd,aAAMN,EAAM,QAAQ,cAClB,OAAO,OAAOM,GAAQ;AAAA,QACpB,YAAY;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAAA;AAAA,MACR,CACD,GAGGN,EAAM,QAAQ,aAClB,OAAO,OAAOM,GAAQ;AAAA,QACpB,WAAW;AAAA,UACT,OAAO;AAAA,UACP,MAAM;AAAA,QAAA;AAAA,MACR,CACD,GAGGN,EAAM,QAAQ,eAClB,OAAO,OAAOM,GAAQ;AAAA,QACpB,aAAa;AAAA,UACX,OAAO;AAAA,UACP,MAAM;AAAA,QAAA;AAAA,MACR,CACD,GAEIA;AAAA,IAAA,CACR,GAEKC,IAAiBC,EAAY,WAAW,GAExCC,IAAa,CAAC,MAAa;AAC3B,MAAE,KACCP,EAAA,cAAc,EAAE,MAAM,EAAE,MAAM,QAAQ,EAAE,QAAQ;AAAA,IAEzD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}