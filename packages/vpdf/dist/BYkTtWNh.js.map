{"version":3,"file":"BYkTtWNh.js","sources":["../src/components/menu/pager.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { computed, defineAsyncComponent, ref, watch } from \"vue\";\r\n\r\nconst Button = defineAsyncComponent(() => import(\"../button/index.vue\"));\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    modelValue: number;\r\n    pages: number;\r\n    disabled?: boolean;\r\n    mode: \"vertical\" | \"horizontal\";\r\n  }>(),\r\n  {\r\n    modelValue: 1,\r\n    pages: 0,\r\n    disabled: false,\r\n  }\r\n);\r\n\r\nconst emit = defineEmits([\"update:modelValue\"]);\r\n\r\nconst p = ref(props.modelValue);\r\n\r\nconst inputSize = computed<number>(() => Math.max(`${props.pages}`.length, 3));\r\n\r\nconst isInt = (n: number) => n % 1 === 0;\r\nconst onChange = (e: Event) => {\r\n  const target = e.target as HTMLInputElement;\r\n  if (isInt(+target.value) && +target.value <= props.pages) {\r\n    p.value = +target.value;\r\n    emit(\"update:modelValue\", p.value);\r\n  } else {\r\n    target.value = p.value.toString();\r\n  }\r\n};\r\n\r\nconst changePage = (offset: number) => {\r\n  let p = Math.max(Math.min(props.modelValue + offset, props.pages), 1);\r\n  emit(\"update:modelValue\", p);\r\n};\r\n\r\nwatch(\r\n  () => props.modelValue,\r\n  (val) => {\r\n    p.value = val;\r\n  }\r\n);\r\n</script>\r\n<template>\r\n  <div class=\"flex items-center justify-center gap-2 px-2\">\r\n    <div class=\"flex items-center gap-0.5\">\r\n      <Button\r\n        @click=\"changePage(-1)\"\r\n        icon=\"arrow_circle_up\"\r\n        class=\"group rounded-lg px-1 py-0.5 text-2xl\"\r\n        :iconClass=\"{\r\n          'transition-transform': true,\r\n          '-rotate-90': mode != 'vertical',\r\n        }\"\r\n        :disabled=\"disabled\"\r\n      />\r\n      <Button\r\n        @click=\"changePage(1)\"\r\n        icon=\"arrow_circle_down\"\r\n        class=\"group rounded-lg px-1 py-0.5 text-2xl\"\r\n        :iconClass=\"{\r\n          'transition-transform': true,\r\n          '-rotate-90': mode != 'vertical',\r\n        }\"\r\n        :disabled=\"disabled\"\r\n      />\r\n    </div>\r\n    <div\r\n      class=\"hidden select-none items-center justify-stretch gap-1 md:flex\"\r\n      :class=\"{\r\n        'text-gray-400': disabled,\r\n      }\"\r\n    >\r\n      <label\r\n        for=\"__PDF__PAGER_INPUT__\"\r\n        class=\"group relative max-w-10 bg-foreground/10 leading-none before:absolute before:inset-x-0 before:top-full before:h-0.5 before:bg-gray-400/25\"\r\n        :class=\"{ 'cursor-not-allowed opacity-50': disabled }\"\r\n      >\r\n        <input\r\n          id=\"__PDF__PAGER_INPUT__\"\r\n          :value=\"p\"\r\n          :size=\"inputSize\"\r\n          class=\"w-full select-none bg-transparent px-1 text-center leading-none outline-none\"\r\n          :class=\"{ 'aria-disabled pointer-events-none': disabled }\"\r\n          :disabled=\"disabled\"\r\n          @change=\"onChange\"\r\n        />\r\n        <div\r\n          class=\"absolute left-1/2 top-full h-0.5 w-0 -translate-x-1/2 bg-blue-600 opacity-0 transition-all group-focus-within:w-full group-focus-within:opacity-100\"\r\n        />\r\n      </label>\r\n      <span class=\"leading-none\">/</span>\r\n      <span class=\"leading-none\">{{ pages }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n"],"names":["Button","defineAsyncComponent","props","__props","emit","__emit","p","ref","inputSize","computed","isInt","n","onChange","target","changePage","offset","watch","val"],"mappings":";;;;;;;;;;;AAGA,UAAMA,IAASC,EAAqB,MAAM,OAAO,eAAqB,CAAC,GAEjEC,IAAQC,GAcRC,IAAOC,GAEPC,IAAIC,EAAIL,EAAM,UAAU,GAExBM,IAAYC,EAAiB,MAAM,KAAK,IAAI,GAAGP,EAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,GAEvEQ,IAAQ,CAACC,MAAcA,IAAI,MAAM,GACjCC,IAAW,CAAC,MAAa;AAC7B,YAAMC,IAAS,EAAE;AACb,MAAAH,EAAM,CAACG,EAAO,KAAK,KAAK,CAACA,EAAO,SAASX,EAAM,SAC/CI,EAAA,QAAQ,CAACO,EAAO,OACbT,EAAA,qBAAqBE,EAAE,KAAK,KAE1BO,EAAA,QAAQP,EAAE,MAAM,SAAS;AAAA,IAEpC,GAEMQ,IAAa,CAACC,MAAmB;AACjCT,UAAAA,IAAI,KAAK,IAAI,KAAK,IAAIJ,EAAM,aAAaa,GAAQb,EAAM,KAAK,GAAG,CAAC;AACpE,MAAAE,EAAK,qBAAqBE,CAAC;AAAA,IAC7B;AAEA,WAAAU;AAAA,MACE,MAAMd,EAAM;AAAA,MACZ,CAACe,MAAQ;AACP,QAAAX,EAAE,QAAQW;AAAA,MAAA;AAAA,IAEd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}